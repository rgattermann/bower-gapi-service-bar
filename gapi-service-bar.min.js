/*global angular,console*/
(function () {
    'use strict';

    // Module dependencies injection
    angular.module('gapiServiceBar', []);

}());

/*global angular, console, $ */
(function () {
    "use strict";

    function GapiServiceBarController($scope) {

        $scope.companyName = 'Advogados';

        $scope.userPanel = function () {
            console.log('UserPanel');
        };

        $scope.userSettings = function () {
            console.log('UserSettings');
        };

        $scope.userHelp = function () {
            console.log('userHelp');
        };

        $scope.openTicket = function () {
            console.log('openTicket');
        };

        $scope.logout = function () {
            console.log('logout');
        };

        $scope.user = {
            "username": "Usu√°rio",
            "img"     : "http://lorempixel.com/output/people-h-c-130-136-6.jpg"
        };

        $scope.applications = [
            {"img": 'assets/img/logoIntegra.png', "name": "Integra" },
            {"img": 'assets/img/logoApi.png',     "name": "CMS" },
            {"img": 'assets/img/logoPromad.png',  "name": "Email" }
        ];

        $scope.notifications = [
            {"aplicacao": "Integra", "description": "Notificao 1", "timespan": "Agora pouco"},
            {"aplicacao": "Integra", "description": "Notificao 2", "timespan": "15 min"},
            {"aplicacao": "Integra", "description": "Notificao 3", "timespan": "30 min"},
            {"aplicacao": "Integra", "description": "Notificao 1", "timespan": "Agora pouco"},
            {"aplicacao": "Integra", "description": "Notificao 2", "timespan": "15 min"},
            {"aplicacao": "Integra", "description": "Notificao 3", "timespan": "30 min"},
            {"aplicacao": "Integra", "description": "Notificao 1", "timespan": "Agora pouco"},
            {"aplicacao": "Integra", "description": "Notificao 2", "timespan": "15 min"},
            {"aplicacao": "Integra", "description": "Notificao 3", "timespan": "30 min"},
            {"aplicacao": "Integra", "description": "Notificao 1", "timespan": "Agora pouco"},
            {"aplicacao": "Integra", "description": "Notificao 2", "timespan": "15 min"},
            {"aplicacao": "Integra", "description": "Notificao 3", "timespan": "30 min"},
            {"aplicacao": "Integra", "description": "Notificao 1", "timespan": "Agora pouco"},
            {"aplicacao": "Integra", "description": "Notificao 2", "timespan": "15 min"},
            {"aplicacao": "Integra", "description": "Notificao 3", "timespan": "30 min"},
            {"aplicacao": "Integra", "description": "Notificao 1", "timespan": "Agora pouco"},
            {"aplicacao": "Integra", "description": "Notificao 2", "timespan": "15 min"},
            {"aplicacao": "Integra", "description": "Notificao 3", "timespan": "30 min"},
            {"aplicacao": "Integra", "description": "Notificao 1", "timespan": "Agora pouco"},
            {"aplicacao": "Integra", "description": "Notificao 2", "timespan": "15 min"},
            {"aplicacao": "Integra", "description": "Notificao 3", "timespan": "30 min"},
            {"aplicacao": "Integra", "description": "Notificao 1", "timespan": "Agora pouco"},
            {"aplicacao": "Integra", "description": "Notificao 2", "timespan": "15 min"},
            {"aplicacao": "Integra", "description": "Notificao 3", "timespan": "30 min"},
            {"aplicacao": "Integra", "description": "Notificao 1", "timespan": "Agora pouco"},
            {"aplicacao": "Integra", "description": "Notificao 2", "timespan": "15 min"},
            {"aplicacao": "Integra", "description": "Notificao 3", "timespan": "30 min"},
            {"aplicacao": "Integra", "description": "Notificao 1", "timespan": "Agora pouco"},
            {"aplicacao": "Integra", "description": "Notificao 2", "timespan": "15 min"},
            {"aplicacao": "Integra", "description": "Notificao 3", "timespan": "30 min"},
            {"aplicacao": "Integra", "description": "Notificao 1", "timespan": "Agora pouco"},
            {"aplicacao": "Integra", "description": "Notificao 2", "timespan": "15 min"},
            {"aplicacao": "Integra", "description": "Notificao 3", "timespan": "30 min"}
        ];

    }

    GapiServiceBarController.$inject = ['$scope'];

    angular.module('gapiServiceBar').controller('GapiServiceBarController', GapiServiceBarController);

}());
/*global angular, $, console, alert, window */
(function () {
    'use strict';

    // Main Controller
    function MainController($scope, $rootScope, $timeout, alertHelper) {
        var handleRecordEvents;

        // handles all record events
        handleRecordEvents = function (event, message) {
            var options = alertHelper.resolveAlertSettings(event.name, message);

            // configuring alert
            $scope.showSaveAlert = false;
            $scope.showAlert     = options.show;
            $scope.alertType     = options.type;
            $scope.alertIcon     = options.icon;
            $scope.alertMessage  = options.msg;

            $scope.event = event;

            // closing alert;
            $timeout(function () {
                $scope.showAlert = false;
            }, 3000);
        };

        // registering event listeners
        $rootScope.$on('recordSuccess', handleRecordEvents);
        $rootScope.$on('recordError', handleRecordEvents);
        $rootScope.$on('saveRecordSuccess', handleRecordEvents);
        $rootScope.$on('closeRecordSuccessAlert', handleRecordEvents);
    }

    // injecting dependencies
    MainController.$inject = ['$scope', '$rootScope', '$timeout', 'alertEventHelperService', '$location'];

    // registering on angular
    angular.module('demoGapiService').controller('MainController', MainController);
}());

/*global angular,console*/
(function () {
    'use strict';

    // Module dependencies injection
    angular.module('demoGapiService', [ 'aruba.js', 'ngRoute', 'gapiServiceBar' ]);

}());

/*global angular */
(function () {
    'use strict';

    angular.module('demoGapiService')

        .config(['$routeProvider', '$locationProvider',
            function ($routeProvider, $locationProvider) {

                // Accounts Routes
                $routeProvider
                    .when('/', {
                        templateUrl: './index.html',
                        controller: 'MainController'
                    })
                    .otherwise({
                        redirectTo: '/'
                    });

                // To avoid the need of hash (#) on Application URI
                $locationProvider.html5Mode(true);

            }]);
}());

/*global angular, console*/

angular.module('gapiServiceBar').directive('gapiServiceBar', function () {
    "use strict";

    return {
        require: "ngModel",
        restrict: 'E',
        templateUrl: 'templates/gapi-service-bar.html',
        controller: 'GapiServiceBarController'
    };

});

/*global angular*/
(function () {
    "use strict";

    // creating service
    function AlertEventHelperService() {

        // defines alert type
        this.resolveAlertSettings = function (eventName, message) {
            var options = {
                show: true,
                msg: message
            };

            // recordSuccess
            if (eventName === 'recordSuccess') {
                options.type = 'success';
                options.icon = 'check';
                return options;
            }

            // recordError
            if (eventName === 'recordError') {
                options.type = 'danger';
                options.icon = 'close';
                return options;
            }

            // saveRecordSuccess
            if (eventName === 'saveRecordSuccess') {
                return options;
            }

            // closeRecordSuccessAlert
            if (eventName === 'closeRecordSuccessAlert') {
                options.show = false;
                return options;
            }
        };
    }

    // registering into angular
    angular.module('demoGapiService').service('alertEventHelperService', AlertEventHelperService);

}());
